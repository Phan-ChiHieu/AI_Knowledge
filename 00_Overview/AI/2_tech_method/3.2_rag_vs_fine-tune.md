# RAG vs Fine-tune

cả hai đều nhằm “cung cấp thêm kiến thức” cho mô hình ngôn ngữ, nhưng bản chất hoàn toàn khác nhau.

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ WHAT – RAG vs Fine-tune là gì?

| Phương pháp                              | Mục tiêu chung                          | Cách làm                                        |
| ---------------------------------------- | --------------------------------------- | ----------------------------------------------- |
| **RAG (Retrieval-Augmented Generation)** | Cung cấp thêm dữ liệu **ngoài** mô hình | Gắn thêm dữ liệu vào **lúc chạy (inference)**   |
| **Fine-tune**                            | Cập nhật “trí nhớ” của mô hình          | Huấn luyện lại một phần mô hình với dữ liệu mới |

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ WHY – Tại sao cần phân biệt?

Vì:

- Nhiều người **lầm tưởng phải fine-tune để cập nhật kiến thức mới**
- Trong nhiều trường hợp, **RAG rẻ hơn – nhanh hơn – hiệu quả hơn** mà không cần đụng vào mô hình

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ HOW – So sánh chi tiết (bảng 80/20)

| Tiêu chí                 | 🔁 RAG                                                       | 🧠 Fine-tune                                        |
| ------------------------ | ------------------------------------------------------------ | --------------------------------------------------- |
| **Chi phí**              | Rẻ (chỉ tốn embed + gọi GPT)                                 | Đắt (huấn luyện lại mô hình lớn)                    |
| **Thời gian triển khai** | Nhanh (vài giờ)                                              | Chậm (vài ngày đến vài tuần)                        |
| **Yêu cầu kỹ thuật**     | Trung bình (vector DB, chunk, prompt)                        | Cao (GPU mạnh, training pipeline)                   |
| **Linh hoạt**            | Dữ liệu thay đổi liên tục dễ cập nhật                        | Mỗi lần cập nhật cần train lại                      |
| **Kiểm soát nội dung**   | Có thể kiểm soát đoạn context rõ ràng                        | Mô hình tự học, khó kiểm soát nội dung              |
| **Chất lượng trả lời**   | Tốt nếu context tốt và prompt rõ                             | Tốt nếu fine-tune đúng cách                         |
| **Giới hạn**             | Phụ thuộc context window của LLM (ví dụ GPT-4o \~128k token) | Không phụ thuộc context, vì mô hình đã nhớ          |
| **Tránh ảo giác**        | Dễ tránh nếu context rõ ràng                                 | Có thể vẫn ảo giác nếu học sai                      |
| **Ví dụ phù hợp**        | Truy cập tài liệu nội bộ, chatbot, QA tài liệu PDF           | Dạy mô hình một phong cách viết hoặc logic đặc biệt |

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ Ví dụ thực tế:

### 🔹 RAG

> Xây một chatbot nội bộ cho công ty, đọc file PDF, Excel, Confluence

✅ Không cần đụng vào mô hình → chỉ cần tạo embedding → lưu vào vector DB → truy xuất khi hỏi

### 🔹 Fine-tune

> Huấn luyện mô hình để viết bài phong cách như “Tạp chí Tài chính Doanh nghiệp”, hoặc viết theo quy định pháp lý riêng của tổ chức

✅ Cần fine-tune để mô hình “ghi nhớ phong cách” này và tự sinh ra được

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ So sánh bằng tư duy hình ảnh:

### 🔁 RAG:

> LLM = một người thông minh, nhưng bạn **đưa tài liệu vào tay nó đọc trước khi nó trả lời**

### 🧠 Fine-tune:

> Bạn **dạy nó từ đầu bằng hàng nghìn ví dụ** → nó ghi nhớ thành kiến thức mới

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ Nên dùng cái nào? (Nguyên tắc lựa chọn)

| Khi nào dùng RAG                      | Khi nào cần Fine-tune                     |
| ------------------------------------- | ----------------------------------------- |
| Dữ liệu thường xuyên thay đổi         | Phong cách, văn hóa không đổi             |
| Không muốn huấn luyện lại mô hình     | Muốn mô hình tự sinh output chuyên biệt   |
| Muốn kiểm soát được dữ liệu được dùng | Không cần kiểm soát chi tiết từng dữ liệu |
| Muốn nhanh, rẻ                        | Sẵn sàng đầu tư chi phí & kỹ thuật        |

━━━━━━━━━━━━━━━━━━ ∘◦ ✧ ✦ ✧ ◦∘ ━━━━━━━━━━━━━━━━━━

## ✅ Tóm tắt 1 câu:

`RAG`: Thêm kiến thức từ ngoài vào lúc chạy – nhanh, rẻ, dễ cập nhật.

`Fine-tune`: Nhúng kiến thức/phong cách vào mô hình – mạnh, nhưng tốn kém và cố định.
